{"ast":null,"code":"/* import React from \"react\";\nimport Header from '../../components/header/header'\nimport PlayerBattle from '../../components/playerBattle/playerBattle'\nimport EndFight from '../../components/endFight/endFight'\nimport ApiChange from '../../components/apiChange/apiChange'\nimport axios from 'axios';\nimport {connect} from 'react-redux';\nimport {battle} from '../../actions/playerActions'\n\nconst mapStateToProps = (state, ownProps) => ({ \n\tbattle: state.battle, \n\turl: state.api.selected.url,\n\tselected: ownProps.match.params \n});\n\nclass Battle extends React.Component {\n\n\tcomponentDidMount() {\n\t\taxios.post(`${this.props.url}/select`, this.props.selected).then(response => { \n\t\t\tthis.props.dispatch(battle({ \n\t\t\t\tplayer: response.data.player, \n\t\t\t\tagainst: response.data.against \n\t\t\t}));\n\t\t});\n  \t}\n\n\trender() {\n\t\tconst player = this.props.battle.player; \n\t\tconst against = this.props.battle.against;\n\t\tlet status = player.currentHealth <= 0 || against.currentHealth <= 0;\n\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t{status ? \n\t\t\t\t\t<Header><small>{'End of battle'}</small><ApiChange/></Header> \n\t\t\t\t: \n\t\t\t\t\t<Header><small>{player.name}</small> X <small>{against.name}</small><ApiChange/></Header>\n\t\t\t\t}\n\n\t\t\t\t{status ? <EndFight /> : <PlayerBattle />}\n\t        </div>\n\t\t);\n\t}\n}\n\nexport default connect(mapStateToProps)(Battle);\n\n*/\n/////////////////////////////////////////////\n// CONTENTS\n/////////////////////////////////////////////\n// VARIABLES\n// UTILITIES\n// RANDOM NUMBER GENERATOR\n// CHARACTER BUILD\n// ATTACK MULTIPLIER\n// SFX PLAYER\n// HP BAR ANIMATION\n// RESET\n// CHARACTER CHOICE\n// HERO ATTACK\n// ENEMY ATTACK\n// ATTACK SEQUENCE\n// MODAL CONTROLS\n/////////////////////////////////////////////\n// VARIABLES\n/////////////////////////////////////////////\nvar music = {},\n    typeSprite = '',\n    types = [],\n    gameData = {};\nattackName = '', curAttack = {}, randInt = 0, enemyAttack = {}, characters = [], defendProgressInt = null, defendProgressComplete = 0, progressInt = null, progressComplete = 0;\n\nfunction buildVars() {\n  // all the music for the game\n  // http://downloads.khinsider.com/game-soundtracks/album/pokemon-gameboy-sound-collection\n  music = {\n    opening: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/aipycrsoym/101-opening.mp3\",\n    battle: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/fllwdebjsg/107-battle-vs-wild-pokemon-.mp3\",\n    victory: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/csqodhnibz/108-victory-vs-wild-pokemon-.mp3\",\n    pikachu: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/hpjacpzwof/170-pikachu.mp3\",\n    charmander: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/wfwdwleyga/149-charmander.mp3\",\n    squirtle: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/soagplijvq/152-squirtle.mp3\",\n    bulbasaur: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/gvqmhhryki/146-bulbasaur.mp3\",\n    machop: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/viaskmobgb/213-machop.mp3\"\n  };\n  typeSprite = 'http://orig15.deviantart.net/24d8/f/2011/057/3/5/ge___energy_type_icons_by_aschefield101-d3agp02.png';\n  types = ['bug', 'dark', 'dragon', 'electric', 'fairy', 'fighting', 'fire', 'flying', 'ghost', 'grass', 'ground', 'ice', 'normal', 'poison', 'psychic', 'rock', 'steel', 'water']; // the data for the game in play\n\n  gameData = {\n    step: 1,\n    hero: {},\n    enemy: {} // attack variables\n\n  };\n  attackName = '';\n  curAttack = {};\n  randInt = 0;\n  enemyAttack = {};\n  defendProgressInt = null;\n  defendProgressComplete = 0;\n  progressInt = null;\n  progressComplete = 0; // available characters\n\n  characters = [{\n    name: \"pikachu\",\n    type: 'electric',\n    weakness: ['fighting'],\n    resistance: ['steel'],\n    img: {\n      default: \"http://vignette2.wikia.nocookie.net/all-anime-characters/images/7/7b/Cute_pikachu_with_hat_by_mlpochea-d63xlom.png/revision/latest?cb=20150108111832\",\n      front: \"http://rs1263.pbsrc.com/albums/ii631/Pokemon-Vampire-Knight-lover/pikachu_.gif~c200\",\n      back: \"http://vignette4.wikia.nocookie.net/pokemon/images/5/5b/Pikachu_Back_XY.gif/revision/latest?cb=20141009080948\"\n    },\n    hp: {\n      current: 500,\n      total: 500\n    },\n    attacks: [{\n      name: \"thunder jolt\",\n      hp: randomNum(40, 20),\n      avail: {\n        total: 30,\n        remaining: 30\n      }\n    }, {\n      name: \"electro ball\",\n      hp: randomNum(60, 45),\n      avail: {\n        total: 10,\n        remaining: 10\n      }\n    }, {\n      name: \"volt tackle\",\n      hp: randomNum(75, 60),\n      avail: {\n        total: 5,\n        remaining: 5\n      }\n    }, {\n      name: \"thunder crack\",\n      hp: randomNum(160, 130),\n      avail: {\n        total: 2,\n        remaining: 2\n      }\n    }]\n  }, {\n    name: \"charmander\",\n    type: 'fire',\n    weakness: ['water'],\n    resistance: ['grass'],\n    img: {\n      default: \"http://img3.wikia.nocookie.net/__cb20150330015216/pokemon/images/f/f5/004Charmander_Pokemon_Mystery_Dungeon_Explorers_of_Sky.png\",\n      front: \"http://rs772.pbsrc.com/albums/yy9/HybridRainbow88/Charmander.gif~c200\",\n      back: \"http://vignette1.wikia.nocookie.net/pokemon/images/2/23/Charmander_Back_XY.gif/revision/latest?cb=20141009063457\"\n    },\n    hp: {\n      current: 500,\n      total: 500\n    },\n    attacks: [{\n      name: \"ember\",\n      hp: randomNum(40, 20),\n      avail: {\n        total: 30,\n        remaining: 30\n      }\n    }, {\n      name: \"flamethrower\",\n      hp: randomNum(60, 45),\n      avail: {\n        total: 10,\n        remaining: 10\n      }\n    }, {\n      name: \"burning tail\",\n      hp: randomNum(75, 60),\n      avail: {\n        total: 5,\n        remaining: 5\n      }\n    }, {\n      name: \"fire spin\",\n      hp: randomNum(160, 130),\n      avail: {\n        total: 2,\n        remaining: 2\n      }\n    }]\n  }, {\n    name: \"squirtle\",\n    type: 'water',\n    weakness: ['electric', 'grass'],\n    resistance: ['normal', 'fire'],\n    img: {\n      default: \"http://vignette3.wikia.nocookie.net/ssbb/images/7/79/Squirtle_Rojo_Fuego_y_Verde_Hoja.png/revision/latest?cb=20130907041944&path-prefix=es\",\n      front: \"https://66.media.tumblr.com/ddd22fe10a485ed56a46d958c058a970/tumblr_n9lnpepqkW1scncwdo1_500.gif\",\n      back: \"http://vignette3.wikia.nocookie.net/pokemon/images/d/d8/Squirtle_XY_Back_Sprite.gif/revision/latest?cb=20141031154426\"\n    },\n    hp: {\n      current: 500,\n      total: 500\n    },\n    attacks: [{\n      name: \"bubble\",\n      hp: randomNum(40, 20),\n      avail: {\n        total: 30,\n        remaining: 30\n      }\n    }, {\n      name: \"water gun\",\n      hp: randomNum(60, 45),\n      avail: {\n        total: 10,\n        remaining: 10\n      }\n    }, {\n      name: \"shell attack\",\n      hp: randomNum(75, 60),\n      avail: {\n        total: 5,\n        remaining: 5\n      }\n    }, {\n      name: \"hydro pump\",\n      hp: randomNum(160, 130),\n      avail: {\n        total: 2,\n        remaining: 2\n      }\n    }]\n  }, {\n    name: \"bulbasaur\",\n    type: 'grass',\n    weakness: ['fire'],\n    resistance: ['water', 'psychic'],\n    img: {\n      default: \"http://vignette4.wikia.nocookie.net/pokemon/images/8/81/001Bulbasaur_Pokemon_Mystery_Dungeon_Explorers_of_Sky.png/revision/latest?cb=20150105223818\",\n      front: \"https://media.giphy.com/media/iIWW4BM6nNWTu/giphy.gif\",\n      back: \"http://rs425.pbsrc.com/albums/pp335/Grasaldrea/ShinyBulbasauranimatedback.gif~c200\",\n      deranged: \"http://rs522.pbsrc.com/albums/w348/Richtoon18/b3617568f13aa750c57eacc45d0b2da7.gif~c200\",\n      sleep: \"https://31.media.tumblr.com/4dd7682db26ac687ef81f0dd06794652/tumblr_msesq5uAIk1r93jsro1_500.gif\"\n    },\n    hp: {\n      current: 500,\n      total: 500\n    },\n    attacks: [{\n      name: \"tackle\",\n      hp: randomNum(40, 20),\n      avail: {\n        total: 30,\n        remaining: 30\n      }\n    }, {\n      name: \"vine whip\",\n      hp: randomNum(60, 45),\n      avail: {\n        total: 10,\n        remaining: 10\n      }\n    }, {\n      name: \"razor leaf\",\n      hp: randomNum(75, 60),\n      avail: {\n        total: 5,\n        remaining: 5\n      }\n    }, {\n      name: \"solar beam\",\n      hp: randomNum(160, 130),\n      avail: {\n        total: 2,\n        remaining: 2\n      }\n    }]\n  }, {\n    name: \"machop\",\n    type: 'fighting',\n    weakness: ['psychic', 'electric'],\n    resistance: [],\n    img: {\n      default: \"http://clipart.toonarific.com/data/media/11/pokemon066.gif\",\n      front: \"http://graphics.tppcrpg.net/xy/normal/066F.gif\",\n      back: \"http://pokeunlock.com/wp-content/uploads/2015/01/machop-2.gif\"\n    },\n    hp: {\n      current: 500,\n      total: 500\n    },\n    attacks: [{\n      name: \"low kick\",\n      hp: randomNum(40, 20),\n      avail: {\n        total: 30,\n        remaining: 30\n      }\n    }, {\n      name: \"karate chop\",\n      hp: randomNum(60, 45),\n      avail: {\n        total: 10,\n        remaining: 10\n      }\n    }, {\n      name: \"seismic toss\",\n      hp: randomNum(75, 60),\n      avail: {\n        total: 5,\n        remaining: 5\n      }\n    }, {\n      name: \"hundred furious punches\",\n      hp: randomNum(160, 130),\n      avail: {\n        total: 2,\n        remaining: 2\n      }\n    }]\n  }];\n} /////////////////////////////////////////////\n// UTILITY\n/////////////////////////////////////////////\n// RANDOM NUMBER GENERATOR\n// min is optional\n\n\nfunction randomNum(max, min) {\n  // generate a random number\n  // min not required\n  if (min === undefined || min === '' || min === null) {\n    // min default value\n    min = 0;\n  } // random number, yay\n\n\n  return Math.floor(Math.random() * (max - min) + min);\n} // CHARACTER BUILD\n// build the character UI\n\n\nfunction populateChar(container, character) {\n  // which img\n  var facing = 'front';\n\n  if (character === 'hero') {\n    // we see the back of our hero\n    // a real hero faces danger\n    facing = 'back';\n  } // build the character\n\n\n  container.append('<section class=\"char\"><img src=\"' + gameData[character].img[facing] + '\" alt=\"' + gameData[character].name + '\"><aside class=\"data\"><h2>' + gameData[character].name + '</h2><div><progress max=\"' + gameData[character].hp.total + '\"></progress><p><span>' + gameData[character].hp.current + '</span>/' + gameData[character].hp.total + '</p></div></aside></section>');\n} // ATTACK MULTIPLIER\n// modify attack value for weaknesses & strengths\n\n\nfunction attackMultiplier(attacker, curAttack) {\n  var defender = 'enemy';\n\n  if (attacker === 'enemy') {\n    defender = 'hero';\n  }\n\n  if (gameData[defender].weakness.indexOf(gameData[attacker].type) >= 0) {\n    // weakness exists\n    curAttack.hp *= 2;\n  }\n\n  if (gameData[defender].resistance.indexOf(gameData[attacker].type) >= 0) {\n    // weakness exists\n    curAttack.hp /= 2;\n  }\n\n  curAttack.hp = Math.floor(curAttack.hp);\n  return curAttack.hp;\n} // SFX PLAYER\n// stops music and plays sfx\n\n\nfunction playSound(name) {\n  // load sfx src\n  $('audio.sfx').attr('src', music[name]); // pause game music\n\n  $('audio.music')[0].pause(); // character announce yourself\n\n  $('audio.sfx')[0].play(); // timeout to stop music at given point\n\n  setTimeout(function () {\n    // pause the sfx\n    $('audio.sfx')[0].pause(); // start the music again\n\n    $('audio.music')[0].play(); // reset the sfx\n\n    $('audio.sfx')[0].currentTime = 0;\n  }, 2000);\n} // HP BAR ANIMATION\n// stop and set health bar\n\n\nfunction setHP() {\n  // stop health animation and set value\n  clearInterval(defendProgressInt);\n  clearInterval(progressInt);\n  $('.stadium .enemy progress').val(gameData.enemy.hp.current);\n  $('.stadium .hero progress').val(gameData.hero.hp.current);\n} /////////////////////////////////////////////\n// RESET\n/////////////////////////////////////////////\n\n\nfunction resetGame() {\n  // set default values for game variables\n  buildVars(); // clear the stadium\n\n  $('.hero').empty();\n  $('.enemy').empty(); // reset\n\n  $('.attack-list li').unbind('click');\n  $('.attack-list').empty();\n  $('.stadium .enemy').css({\n    'padding': '0'\n  });\n  $('.instructions p').text('Choose your hero'); // set & start the opening game music\n\n  $('audio.music').attr('src', music[\"opening\"]);\n  $('audio.music')[0].play(); // empty characters\n\n  $('.characters').empty();\n  $('.characters').removeClass('hidden');\n\n  for (var i in characters) {\n    // build the character list\n    $(\".characters\").append('<div class=\"char-container\"><img src=\"' + characters[i].img.default + '\" alt=\"' + characters[i].name + '\"><h2>' + characters[i].name + '</h2><span class=\"type ' + characters[i].type + '\"></span></div>');\n  }\n\n  characterChoice();\n}\n\nresetGame();\n$('.logo').click(function () {\n  resetGame();\n}); /////////////////////////////////////////////\n// CHARACTER CHOICE\n/////////////////////////////////////////////\n\nfunction characterChoice() {\n  $('.characters .char-container').click(function () {\n    // you have chosen a character\n    // your chosen character name\n    var name = $(this).children('h2').text().toLowerCase();\n\n    switch (gameData.step) {\n      // switch for the current step in the game\n      case 1:\n        // step 1: choose your hero\n        for (var i in characters) {\n          if (characters[i].name === name) {\n            // find and save your chosen hero's data\n            gameData.hero = characters[i];\n          }\n        } // remove the character from the available list\n\n\n        var char = $(this).remove(); // build my hero\n\n        populateChar($('.stadium .hero'), 'hero');\n\n        for (var i in gameData.hero.attacks) {\n          // populate attack list\n          $('.attack-list').append('<li><p class=\"attack-name\"><strong>' + gameData.hero.attacks[i].name + '</strong></p><p class=\"attack-count\"><small><span>' + gameData.hero.attacks[i].avail.remaining + '</span>/' + gameData.hero.attacks[i].avail.total + '</small></p></li>');\n        }\n\n        $('.attack-list').addClass('disabled'); // update instructions\n\n        $('.instructions p').text('Choose your enemy'); // set health bar value\n\n        $('.stadium .hero progress').val(gameData.hero.hp.current); // let your hero roar\n\n        playSound(name); // move on to choosing an enemy\n\n        gameData.step = 2;\n        break;\n\n      case 2:\n        // step 2: choose your enemy\n        for (var i in characters) {\n          if (characters[i].name === name) {\n            // find and save the enemy data\n            gameData.enemy = characters[i];\n          }\n        } // remove the enemy from the list\n\n\n        var char = $(this).remove(); // build the enemy\n\n        populateChar($('.stadium .enemy'), 'enemy'); // pad the stadium - give them some breathing room\n\n        $('.stadium .enemy').css({\n          'padding': '25px 0'\n        }); // update instructions\n\n        $('.instructions p').text('Fight!!!'); // hide the hero list\n\n        $('.characters').children().slideUp('500', function () {\n          $('.characters').addClass('hidden');\n        }); // update enemy health bar value\n\n        $('.stadium .enemy progress').val(gameData.enemy.hp.current); // the enemy whimpers in fear\n\n        playSound(name); // update step to attack phase and bind click events\n\n        gameData.step = 3;\n        attackList();\n        break;\n    }\n  });\n} /////////////////////////////////////////////\n// HERO ATTACK\n/////////////////////////////////////////////\n\n\nfunction attackEnemy(that, callback) {\n  // attack the enemy!!!\n  // name of your attack\n  attackName = that.children('.attack-name').children('strong').text().toLowerCase();\n\n  for (var i in gameData.hero.attacks) {\n    if (gameData.hero.attacks[i].name === attackName) {\n      // get chosen attack data\n      curAttack = gameData.hero.attacks[i];\n    }\n  } // if there are attacks left\n\n\n  if (curAttack.avail.remaining > 0) {\n    // attack!!!\n    $('.attack-list').addClass('disabled');\n    $('.hero .char img').animate({\n      'margin-left': '-30px',\n      'margin-top': '10px'\n    }, 50, 'swing');\n    $('.hero .char img').animate({\n      'margin-left': '30px',\n      'margin-top': '-10px'\n    }, 50, 'swing');\n    $('.hero .char img').animate({\n      'margin-left': '0px',\n      'margin-top': '0px'\n    }, 50, 'swing'); // attack enemy\n\n    gameData.enemy.hp.current -= attackMultiplier('hero', curAttack);\n\n    if (gameData.enemy.hp.current <= 0) {\n      // Enemy is dead\n      clearModal();\n      $('.modal-in header').append('<h1>You Enemy is slain</h1><span class=\"close\">x</span>');\n      $('.modal-in section').append('<p>Congratulations! Dare you try again?');\n      $('.modal-out').slideDown('400');\n      modalControls();\n      gameData.enemy.hp.current = 0; // clear the stadium of the dead\n\n      $('.enemy').empty(); // show the available characters\n\n      $('.characters').removeClass('hidden');\n      $('.characters').children().slideDown('500');\n      gameData.enemy = {}; // choose enemy\n\n      gameData.step = 2; // unbind click for reset\n\n      $('.attack-list li').unbind('click');\n    } else {\n      // enemy is still alive (Attack!!!)\n      // subtract attack\n      curAttack.avail.remaining--; // interval to animate health bar\n\n      progressInt = setInterval(function () {\n        // get current value of health bar\n        var val = $('.stadium .enemy progress').val();\n        val--; // update health bar value\n\n        $('.stadium .enemy progress').val(val);\n\n        if (val === gameData.enemy.hp.current) {\n          // if you've hit your target clear interval\n          clearInterval(progressInt);\n          progressComplete = 1;\n        }\n      }, 1); // update health numbers\n\n      $('.stadium .enemy .data p span').text(gameData.enemy.hp.current);\n      that.children('.attack-count').children('small').children('span').text(curAttack.avail.remaining); // wait a second to recover\n\n      setTimeout(function () {\n        // now defend that attack\n        defend(that);\n      }, 1000);\n    }\n  }\n} /////////////////////////////////////////////\n// ENEMY ATTACK (DEFEND)\n/////////////////////////////////////////////\n\n\nfunction defend(that) {\n  // random attack\n  randInt = randomNum(gameData.enemy.attacks.length);\n  enemyAttack = gameData.enemy.attacks[randInt]; // enemy attack animation sequence\n\n  $('.enemy .char img').animate({\n    'margin-right': '-30px',\n    'margin-top': '-10px'\n  }, 50, 'swing');\n  $('.enemy .char img').animate({\n    'margin-right': '30px',\n    'margin-top': '10px'\n  }, 50, 'swing');\n  $('.enemy .char img').animate({\n    'margin-right': '0px',\n    'margin-top': '0px'\n  }, 50, 'swing'); // attack the hero\n\n  gameData.hero.hp.current -= attackMultiplier('enemy', enemyAttack);\n\n  if (gameData.hero.hp.current <= 0) {\n    // ding dong the hero's dead\n    clearModal();\n    $('.modal-in header').append('<h1>Your Hero has died</h1><span class=\"close\">x</span>');\n    $('.modal-in section').append('<p>You lose, good day!');\n    $('.modal-out').slideDown('400');\n    modalControls();\n    gameData.hero.hp.current = 0;\n    resetGame();\n  } else {\n    // the hero lives\n    // subtract attack from enemy count\n    gameData.enemy.attacks[randInt].avail.remaining--; // health bar animation\n\n    defendProgressInt = setInterval(function () {\n      // get current val of health bar\n      var val = $('.stadium .hero progress').val();\n      val--; // update health bar value\n\n      $('.stadium .hero progress').val(val);\n\n      if (val === gameData.hero.hp.current) {\n        // stop the interval when target is attained\n        clearInterval(defendProgressInt);\n        defendProgressComplete = 1;\n      }\n    }, 1); // update health value\n\n    $('.stadium .hero .data p span').text(gameData.hero.hp.current);\n    setTimeout(function () {\n      if (defendProgressComplete && progressComplete) {\n        $('.attack-list').removeClass('disabled');\n      } else {\n        setHP();\n        $('.attack-list').removeClass('disabled');\n      }\n    }, 500);\n  }\n} /////////////////////////////////////////////\n// ATTACK SEQUENCE\n/////////////////////////////////////////////\n\n\nfunction attackList() {\n  // attack instantiation\n  $('.attack-list').removeClass('disabled');\n  $('.attack-list li').click(function () {\n    // attack choice is clicked\n    var doAttack = 1;\n\n    if (gameData.step === 3) {\n      // attack step - start attack sequence\n      attackEnemy($(this));\n    }\n  });\n  setTimeout(function () {\n    // characters chosen - set & start the battle music\n    $('audio.music').attr('src', music[\"battle\"]);\n    $('audio.music')[0].play();\n  }, 1500);\n} /////////////////////////////////////////////\n// MODAL\n/////////////////////////////////////////////\n\n\nfunction modalControls() {\n  $('.modal-out').click(function () {\n    $(this).slideUp('400');\n  });\n  $('.modal-in .close').click(function (e) {\n    $('.modal-out').slideUp('400');\n  });\n  $('.modal-in').click(function (e) {\n    e.stopPropagation();\n    e.preventDefault();\n  });\n}\n\nfunction clearModal() {\n  $('.modal-in header').empty();\n  $('.modal-in section').empty();\n  $('.modal-in footer').empty();\n  setHP();\n}","map":{"version":3,"sources":["/Users/nicholasmahase/Desktop/Project 3/SuperPokeSmash/client/src/Pages/battle/battle.js"],"names":["music","typeSprite","types","gameData","attackName","curAttack","randInt","enemyAttack","characters","defendProgressInt","defendProgressComplete","progressInt","progressComplete","buildVars","opening","battle","victory","pikachu","charmander","squirtle","bulbasaur","machop","step","hero","enemy","name","type","weakness","resistance","img","default","front","back","hp","current","total","attacks","randomNum","avail","remaining","deranged","sleep","max","min","undefined","Math","floor","random","populateChar","container","character","facing","append","attackMultiplier","attacker","defender","indexOf","playSound","$","attr","pause","play","setTimeout","currentTime","setHP","clearInterval","val","resetGame","empty","unbind","css","text","removeClass","i","characterChoice","click","children","toLowerCase","char","remove","addClass","slideUp","attackList","attackEnemy","that","callback","animate","clearModal","slideDown","modalControls","setInterval","defend","length","doAttack","e","stopPropagation","preventDefault"],"mappings":"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","sourcesContent":["/* import React from \"react\";\nimport Header from '../../components/header/header'\nimport PlayerBattle from '../../components/playerBattle/playerBattle'\nimport EndFight from '../../components/endFight/endFight'\nimport ApiChange from '../../components/apiChange/apiChange'\nimport axios from 'axios';\nimport {connect} from 'react-redux';\nimport {battle} from '../../actions/playerActions'\n\nconst mapStateToProps = (state, ownProps) => ({ \n\tbattle: state.battle, \n\turl: state.api.selected.url,\n\tselected: ownProps.match.params \n});\n\nclass Battle extends React.Component {\n\n\tcomponentDidMount() {\n\t\taxios.post(`${this.props.url}/select`, this.props.selected).then(response => { \n\t\t\tthis.props.dispatch(battle({ \n\t\t\t\tplayer: response.data.player, \n\t\t\t\tagainst: response.data.against \n\t\t\t}));\n\t\t});\n  \t}\n\n\trender() {\n\t\tconst player = this.props.battle.player; \n\t\tconst against = this.props.battle.against;\n\t\tlet status = player.currentHealth <= 0 || against.currentHealth <= 0;\n\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t{status ? \n\t\t\t\t\t<Header><small>{'End of battle'}</small><ApiChange/></Header> \n\t\t\t\t: \n\t\t\t\t\t<Header><small>{player.name}</small> X <small>{against.name}</small><ApiChange/></Header>\n\t\t\t\t}\n\n\t\t\t\t{status ? <EndFight /> : <PlayerBattle />}\n\t        </div>\n\t\t);\n\t}\n}\n\nexport default connect(mapStateToProps)(Battle);\n\n*/\n\n/////////////////////////////////////////////\n// CONTENTS\n/////////////////////////////////////////////\n// VARIABLES\n// UTILITIES\n  // RANDOM NUMBER GENERATOR\n  // CHARACTER BUILD\n  // ATTACK MULTIPLIER\n  // SFX PLAYER\n  // HP BAR ANIMATION\n// RESET\n// CHARACTER CHOICE\n// HERO ATTACK\n// ENEMY ATTACK\n// ATTACK SEQUENCE\n// MODAL CONTROLS\n\n\n/////////////////////////////////////////////\n// VARIABLES\n/////////////////////////////////////////////\nvar music = {},\n    typeSprite = '',\n    types = [],\n    gameData = {}\n    attackName = '',\n    curAttack = {},\n    randInt = 0,\n    enemyAttack = {},\n    characters = [],\n    defendProgressInt = null,\n    defendProgressComplete = 0,\n    progressInt = null,\n    progressComplete = 0;\n\nfunction buildVars(){\n  // all the music for the game\n  // http://downloads.khinsider.com/game-soundtracks/album/pokemon-gameboy-sound-collection\n  music = {\n    opening: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/aipycrsoym/101-opening.mp3\",\n    battle: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/fllwdebjsg/107-battle-vs-wild-pokemon-.mp3\",\n    victory: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/csqodhnibz/108-victory-vs-wild-pokemon-.mp3\",\n    pikachu: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/hpjacpzwof/170-pikachu.mp3\",\n    charmander: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/wfwdwleyga/149-charmander.mp3\",\n    squirtle: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/soagplijvq/152-squirtle.mp3\",\n    bulbasaur: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/gvqmhhryki/146-bulbasaur.mp3\",\n    machop: \"http://66.90.91.26/ost/pokemon-gameboy-sound-collection/viaskmobgb/213-machop.mp3\"\n  }\n\n\n\n  typeSprite = 'http://orig15.deviantart.net/24d8/f/2011/057/3/5/ge___energy_type_icons_by_aschefield101-d3agp02.png';\n  types = ['bug', 'dark', 'dragon', 'electric', 'fairy', 'fighting', 'fire', 'flying', 'ghost', 'grass', 'ground', 'ice', 'normal', 'poison', 'psychic', 'rock', 'steel', 'water'];\n\n\n\n  // the data for the game in play\n  gameData = {\n    step: 1,\n    hero: {},\n    enemy: {}\n  }\n\n\n\n  // attack variables\n  attackName = '';\n  curAttack = {};\n  randInt = 0;\n  enemyAttack = {};\n  defendProgressInt = null;\n  defendProgressComplete = 0;\n  progressInt = null;\n  progressComplete = 0;\n\n\n\n  // available characters\n  characters = [\n    {\n      name: \"pikachu\",\n      type: 'electric',\n      weakness: ['fighting'],\n      resistance: ['steel'],\n      img: {\n        default: \"http://vignette2.wikia.nocookie.net/all-anime-characters/images/7/7b/Cute_pikachu_with_hat_by_mlpochea-d63xlom.png/revision/latest?cb=20150108111832\",\n        front: \"http://rs1263.pbsrc.com/albums/ii631/Pokemon-Vampire-Knight-lover/pikachu_.gif~c200\",\n        back: \"http://vignette4.wikia.nocookie.net/pokemon/images/5/5b/Pikachu_Back_XY.gif/revision/latest?cb=20141009080948\"\n      },\n      hp: {\n        current: 500,\n        total: 500\n      },\n      attacks: [\n        {\n          name: \"thunder jolt\",\n          hp: randomNum(40,20),\n          avail: {\n            total: 30,\n            remaining: 30\n          }\n        },\n        {\n          name: \"electro ball\",\n          hp: randomNum(60,45),\n          avail: {\n            total: 10,\n            remaining: 10\n          }\n        },\n        {\n          name: \"volt tackle\",\n          hp: randomNum(75,60),\n          avail: {\n            total: 5,\n            remaining: 5\n          }\n        },\n        {\n          name: \"thunder crack\",\n          hp: randomNum(160, 130),\n          avail: {\n            total: 2,\n            remaining: 2\n          }\n        }\n      ]\n    },\n    {\n      name: \"charmander\",\n      type: 'fire',\n      weakness: ['water'],\n      resistance: ['grass'],\n      img: {\n        default: \"http://img3.wikia.nocookie.net/__cb20150330015216/pokemon/images/f/f5/004Charmander_Pokemon_Mystery_Dungeon_Explorers_of_Sky.png\",\n        front: \"http://rs772.pbsrc.com/albums/yy9/HybridRainbow88/Charmander.gif~c200\",\n        back: \"http://vignette1.wikia.nocookie.net/pokemon/images/2/23/Charmander_Back_XY.gif/revision/latest?cb=20141009063457\"\n      },\n      hp: {\n        current: 500,\n        total: 500\n      },\n      attacks: [\n        {\n          name: \"ember\",\n          hp: randomNum(40,20),\n          avail: {\n            total: 30,\n            remaining: 30\n          }\n        },\n        {\n          name: \"flamethrower\",\n          hp: randomNum(60,45),\n          avail: {\n            total: 10,\n            remaining: 10\n          }\n        },\n        {\n          name: \"burning tail\",\n          hp: randomNum(75,60),\n          avail: {\n            total: 5,\n            remaining: 5\n          }\n        },\n        {\n          name: \"fire spin\",\n          hp: randomNum(160, 130),\n          avail: {\n            total: 2,\n            remaining: 2\n          }\n        }\n      ]\n    },\n    {\n      name: \"squirtle\",\n      type: 'water',\n      weakness: ['electric','grass'],\n      resistance: ['normal','fire'],\n      img: {\n        default: \"http://vignette3.wikia.nocookie.net/ssbb/images/7/79/Squirtle_Rojo_Fuego_y_Verde_Hoja.png/revision/latest?cb=20130907041944&path-prefix=es\",\n        front: \"https://66.media.tumblr.com/ddd22fe10a485ed56a46d958c058a970/tumblr_n9lnpepqkW1scncwdo1_500.gif\",\n        back: \"http://vignette3.wikia.nocookie.net/pokemon/images/d/d8/Squirtle_XY_Back_Sprite.gif/revision/latest?cb=20141031154426\"\n      },\n      hp: {\n        current: 500,\n        total: 500\n      },\n      attacks: [\n        {\n          name: \"bubble\",\n          hp: randomNum(40,20),\n          avail: {\n            total: 30,\n            remaining: 30\n          }\n        },\n        {\n          name: \"water gun\",\n          hp: randomNum(60,45),\n          avail: {\n            total: 10,\n            remaining: 10\n          }\n        },\n        {\n          name: \"shell attack\",\n          hp: randomNum(75,60),\n          avail: {\n            total: 5,\n            remaining: 5\n          }\n        },\n        {\n          name: \"hydro pump\",\n          hp: randomNum(160, 130),\n          avail: {\n            total: 2,\n            remaining: 2\n          }\n        }\n      ]\n    },\n    {\n      name: \"bulbasaur\",\n      type: 'grass',\n      weakness: ['fire'],\n      resistance: ['water','psychic'],\n      img: {\n        default: \"http://vignette4.wikia.nocookie.net/pokemon/images/8/81/001Bulbasaur_Pokemon_Mystery_Dungeon_Explorers_of_Sky.png/revision/latest?cb=20150105223818\",\n        front: \"https://media.giphy.com/media/iIWW4BM6nNWTu/giphy.gif\",\n        back: \"http://rs425.pbsrc.com/albums/pp335/Grasaldrea/ShinyBulbasauranimatedback.gif~c200\",\n        deranged: \"http://rs522.pbsrc.com/albums/w348/Richtoon18/b3617568f13aa750c57eacc45d0b2da7.gif~c200\",\n        sleep: \"https://31.media.tumblr.com/4dd7682db26ac687ef81f0dd06794652/tumblr_msesq5uAIk1r93jsro1_500.gif\"\n      },\n      hp: {\n        current: 500,\n        total: 500\n      },\n      attacks: [\n        {\n          name: \"tackle\",\n          hp: randomNum(40,20),\n          avail: {\n            total: 30,\n            remaining: 30\n          }\n        },\n        {\n          name: \"vine whip\",\n          hp: randomNum(60,45),\n          avail: {\n            total: 10,\n            remaining: 10\n          }\n        },\n        {\n          name: \"razor leaf\",\n          hp: randomNum(75,60),\n          avail: {\n            total: 5,\n            remaining: 5\n          }\n        },\n        {\n          name: \"solar beam\",\n          hp: randomNum(160, 130),\n          avail: {\n            total: 2,\n            remaining: 2\n          }\n        }\n      ]\n    },\n    {\n      name: \"machop\",\n      type: 'fighting',\n      weakness: ['psychic','electric'],\n      resistance: [],\n      img: {\n        default: \"http://clipart.toonarific.com/data/media/11/pokemon066.gif\",\n        front: \"http://graphics.tppcrpg.net/xy/normal/066F.gif\",\n        back:  \"http://pokeunlock.com/wp-content/uploads/2015/01/machop-2.gif\"\n      },\n      hp: {\n        current: 500,\n        total: 500\n      },\n      attacks: [\n        {\n          name: \"low kick\",\n          hp: randomNum(40,20),\n          avail: {\n            total: 30,\n            remaining: 30\n          }\n        },\n        {\n          name: \"karate chop\",\n          hp: randomNum(60,45),\n          avail: {\n            total: 10,\n            remaining: 10\n          }\n        },\n        {\n          name: \"seismic toss\",\n          hp: randomNum(75,60),\n          avail: {\n            total: 5,\n            remaining: 5\n          }\n        },\n        {\n          name: \"hundred furious punches\",\n          hp: randomNum(160, 130),\n          avail: {\n            total: 2,\n            remaining: 2\n          }\n        }\n      ]\n    }\n  ];\n}\n\n\n\n\n\n/////////////////////////////////////////////\n// UTILITY\n/////////////////////////////////////////////\n// RANDOM NUMBER GENERATOR\n// min is optional\nfunction randomNum(max, min){\n  // generate a random number\n\n  // min not required\n  if(min === undefined || min === '' || min === null){\n    // min default value\n    min = 0;\n  }\n\n  // random number, yay\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\n\n\n// CHARACTER BUILD\n// build the character UI\nfunction populateChar(container,character){\n  // which img\n  var facing = 'front';\n  if(character === 'hero'){\n    // we see the back of our hero\n    // a real hero faces danger\n    facing = 'back';\n  }\n\n  // build the character\n  container.append('<section class=\"char\"><img src=\"'+gameData[character].img[facing]+'\" alt=\"'+gameData[character].name+'\"><aside class=\"data\"><h2>'+gameData[character].name+'</h2><div><progress max=\"'+gameData[character].hp.total+'\"></progress><p><span>'+gameData[character].hp.current+'</span>/'+gameData[character].hp.total+'</p></div></aside></section>');\n}\n\n\n\n// ATTACK MULTIPLIER\n// modify attack value for weaknesses & strengths\nfunction attackMultiplier(attacker, curAttack){\n  var defender = 'enemy';\n  if(attacker === 'enemy'){\n    defender = 'hero';\n  }\n\n  if(gameData[defender].weakness.indexOf(gameData[attacker].type) >= 0){\n    // weakness exists\n    curAttack.hp *= 2;\n  }\n\n  if(gameData[defender].resistance.indexOf(gameData[attacker].type) >= 0){\n    // weakness exists\n    curAttack.hp /= 2;\n  }\n\n  curAttack.hp = Math.floor(curAttack.hp);\n  return curAttack.hp;\n}\n\n\n\n// SFX PLAYER\n// stops music and plays sfx\nfunction playSound(name){\n  // load sfx src\n  $('audio.sfx').attr('src', music[name])\n  // pause game music\n  $('audio.music')[0].pause();\n  // character announce yourself\n  $('audio.sfx')[0].play();\n\n  // timeout to stop music at given point\n  setTimeout(function(){\n    // pause the sfx\n    $('audio.sfx')[0].pause();\n    // start the music again\n    $('audio.music')[0].play();\n    // reset the sfx\n    $('audio.sfx')[0].currentTime = 0;\n  },2000);\n}\n\n\n// HP BAR ANIMATION\n// stop and set health bar\nfunction setHP(){\n  // stop health animation and set value\n  clearInterval(defendProgressInt);\n  clearInterval(progressInt);\n  $('.stadium .enemy progress').val(gameData.enemy.hp.current);\n  $('.stadium .hero progress').val(gameData.hero.hp.current);\n}\n\n\n\n\n\n/////////////////////////////////////////////\n// RESET\n/////////////////////////////////////////////\nfunction resetGame(){\n  // set default values for game variables\n  buildVars();\n\n  // clear the stadium\n  $('.hero').empty();\n  $('.enemy').empty();\n\n  // reset\n  $('.attack-list li').unbind('click');\n  $('.attack-list').empty();\n  $('.stadium .enemy').css({'padding':'0'});\n  $('.instructions p').text('Choose your hero');\n\n  // set & start the opening game music\n  $('audio.music').attr('src',music[\"opening\"]);\n  $('audio.music')[0].play();\n\n  // empty characters\n  $('.characters').empty();\n  $('.characters').removeClass('hidden');\n\n  for(var i in characters){\n    // build the character list\n    $(\".characters\").append('<div class=\"char-container\"><img src=\"'+characters[i].img.default+'\" alt=\"'+characters[i].name+'\"><h2>'+characters[i].name+'</h2><span class=\"type '+characters[i].type+'\"></span></div>')\n  }\n  characterChoice();\n}\nresetGame();\n$('.logo').click(function(){resetGame();});\n\n\n\n\n\n/////////////////////////////////////////////\n// CHARACTER CHOICE\n/////////////////////////////////////////////\nfunction characterChoice(){\n  $('.characters .char-container').click(function(){\n    // you have chosen a character\n\n    // your chosen character name\n    var name = $(this).children('h2').text().toLowerCase();\n\n    switch(gameData.step){\n      // switch for the current step in the game\n\n      case 1:\n        // step 1: choose your hero\n        for(var i in characters){\n          if(characters[i].name === name){\n            // find and save your chosen hero's data\n            gameData.hero = characters[i];\n          }\n        }\n\n        // remove the character from the available list\n        var char = $(this).remove();\n        // build my hero\n        populateChar($('.stadium .hero'), 'hero');\n\n        for(var i in gameData.hero.attacks){\n          // populate attack list\n          $('.attack-list').append('<li><p class=\"attack-name\"><strong>'+gameData.hero.attacks[i].name+'</strong></p><p class=\"attack-count\"><small><span>'+gameData.hero.attacks[i].avail.remaining+'</span>/'+gameData.hero.attacks[i].avail.total+'</small></p></li>');\n        }\n\n        $('.attack-list').addClass('disabled');\n\n        // update instructions\n        $('.instructions p').text('Choose your enemy');\n        // set health bar value\n        $('.stadium .hero progress').val(gameData.hero.hp.current);\n\n        // let your hero roar\n        playSound(name);\n\n        // move on to choosing an enemy\n        gameData.step = 2;\n        break;\n\n      case 2:\n        // step 2: choose your enemy\n        for(var i in characters){\n          if(characters[i].name === name){\n            // find and save the enemy data\n            gameData.enemy = characters[i];\n          }\n        }\n\n        // remove the enemy from the list\n        var char = $(this).remove();\n        // build the enemy\n        populateChar($('.stadium .enemy'), 'enemy');\n        // pad the stadium - give them some breathing room\n        $('.stadium .enemy').css({'padding':'25px 0'});\n\n        // update instructions\n        $('.instructions p').text('Fight!!!');\n\n        // hide the hero list\n        $('.characters').children().slideUp('500', function(){\n          $('.characters').addClass('hidden');\n        });\n\n        // update enemy health bar value\n        $('.stadium .enemy progress').val(gameData.enemy.hp.current);\n\n        // the enemy whimpers in fear\n        playSound(name);\n\n        // update step to attack phase and bind click events\n        gameData.step = 3;\n        attackList();\n        break;\n    }\n  });\n}\n\n\n\n\n\n/////////////////////////////////////////////\n// HERO ATTACK\n/////////////////////////////////////////////\nfunction attackEnemy(that, callback){\n  // attack the enemy!!!\n\n  // name of your attack\n  attackName = that.children('.attack-name').children('strong').text().toLowerCase();\n\n  for(var i in gameData.hero.attacks){\n    if(gameData.hero.attacks[i].name === attackName){\n      // get chosen attack data\n      curAttack = gameData.hero.attacks[i];\n    }\n  }\n\n  // if there are attacks left\n  if(curAttack.avail.remaining > 0){\n    // attack!!!\n    $('.attack-list').addClass('disabled');\n\n    $('.hero .char img').animate(\n      {\n        'margin-left': '-30px',\n        'margin-top': '10px'\n      },\n      50,\n      'swing'\n    );\n    $('.hero .char img').animate(\n      {\n        'margin-left': '30px',\n        'margin-top': '-10px'\n      },\n      50,\n      'swing'\n    );\n    $('.hero .char img').animate(\n      {\n        'margin-left': '0px',\n        'margin-top': '0px'\n      },\n      50,\n      'swing'\n    );\n\n    // attack enemy\n    gameData.enemy.hp.current -= attackMultiplier('hero', curAttack);\n\n    if(gameData.enemy.hp.current <= 0){\n      // Enemy is dead\n\n      clearModal();\n    $('.modal-in header').append('<h1>You Enemy is slain</h1><span class=\"close\">x</span>');\n    $('.modal-in section').append('<p>Congratulations! Dare you try again?');\n    $('.modal-out').slideDown('400');\n      modalControls();\n\n      gameData.enemy.hp.current = 0;\n      // clear the stadium of the dead\n      $('.enemy').empty();\n      // show the available characters\n      $('.characters').removeClass('hidden');\n      $('.characters').children().slideDown('500');\n\n      gameData.enemy = {};\n\n      // choose enemy\n      gameData.step = 2;\n      // unbind click for reset\n      $('.attack-list li').unbind('click');\n    }else{\n      // enemy is still alive (Attack!!!)\n\n      // subtract attack\n      curAttack.avail.remaining--;\n\n      // interval to animate health bar\n      progressInt = setInterval(function(){\n        // get current value of health bar\n        var val = $('.stadium .enemy progress').val();\n        val--;\n\n        // update health bar value\n        $('.stadium .enemy progress').val(val);\n\n        if(val === gameData.enemy.hp.current){\n          // if you've hit your target clear interval\n          clearInterval(progressInt);\n          progressComplete = 1;\n        }\n      },1);\n\n      // update health numbers\n      $('.stadium .enemy .data p span').text(gameData.enemy.hp.current);\n      that.children('.attack-count').children('small').children('span').text(curAttack.avail.remaining);\n\n      // wait a second to recover\n      setTimeout(function(){\n        // now defend that attack\n        defend(that);\n      }, 1000);\n    }\n  }\n}\n\n\n\n\n\n/////////////////////////////////////////////\n// ENEMY ATTACK (DEFEND)\n/////////////////////////////////////////////\nfunction defend(that){\n  // random attack\n  randInt = randomNum(gameData.enemy.attacks.length);\n  enemyAttack = gameData.enemy.attacks[randInt];\n\n  // enemy attack animation sequence\n  $('.enemy .char img').animate(\n    {\n      'margin-right': '-30px',\n      'margin-top': '-10px'\n    },\n    50,\n    'swing'\n  );\n  $('.enemy .char img').animate(\n    {\n      'margin-right': '30px',\n      'margin-top': '10px'\n    },\n    50,\n    'swing'\n  );\n  $('.enemy .char img').animate(\n    {\n      'margin-right': '0px',\n      'margin-top': '0px'\n    },\n    50,\n    'swing'\n  );\n\n  // attack the hero\n  gameData.hero.hp.current -= attackMultiplier('enemy', enemyAttack);\n\n  if(gameData.hero.hp.current <= 0){\n    // ding dong the hero's dead\n\n    clearModal();\n    $('.modal-in header').append('<h1>Your Hero has died</h1><span class=\"close\">x</span>');\n    $('.modal-in section').append('<p>You lose, good day!');\n    $('.modal-out').slideDown('400');\n    modalControls()\n\n    gameData.hero.hp.current = 0;\n\n    resetGame();\n  }else{\n    // the hero lives\n\n    // subtract attack from enemy count\n    gameData.enemy.attacks[randInt].avail.remaining--;\n\n    // health bar animation\n    defendProgressInt = setInterval(function(){\n      // get current val of health bar\n      var val = $('.stadium .hero progress').val();\n      val--;\n\n      // update health bar value\n      $('.stadium .hero progress').val(val);\n\n      if(val === gameData.hero.hp.current){\n        // stop the interval when target is attained\n        clearInterval(defendProgressInt);\n        defendProgressComplete = 1;\n      }\n    },1);\n\n    // update health value\n    $('.stadium .hero .data p span').text(gameData.hero.hp.current);\n\n    setTimeout(function(){\n      if(defendProgressComplete && progressComplete){\n        $('.attack-list').removeClass('disabled');\n      }else{\n        setHP();\n        $('.attack-list').removeClass('disabled');\n      }\n    }, 500);\n  }\n}\n\n\n\n\n\n/////////////////////////////////////////////\n// ATTACK SEQUENCE\n/////////////////////////////////////////////\nfunction attackList(){\n  // attack instantiation\n  $('.attack-list').removeClass('disabled');\n\n  $('.attack-list li').click(function(){\n    // attack choice is clicked\n    var doAttack = 1;\n\n    if(gameData.step === 3){\n      // attack step - start attack sequence\n      attackEnemy($(this));\n    }\n  });\n\n  setTimeout(function(){\n    // characters chosen - set & start the battle music\n    $('audio.music').attr('src',music[\"battle\"]);\n    $('audio.music')[0].play();\n  },1500);\n}\n\n\n\n\n\n/////////////////////////////////////////////\n// MODAL\n/////////////////////////////////////////////\nfunction modalControls(){\n  $('.modal-out').click(function(){\n    $(this).slideUp('400');\n  });\n  $('.modal-in .close').click(function(e){\n    $('.modal-out').slideUp('400');\n  });\n\n  $('.modal-in').click(function(e){\n    e.stopPropagation();\n    e.preventDefault();\n  });\n}\n\nfunction clearModal(){\n  $('.modal-in header').empty();\n  $('.modal-in section').empty();\n  $('.modal-in footer').empty();\n  setHP();\n}\n\n\n"]},"metadata":{},"sourceType":"module"}